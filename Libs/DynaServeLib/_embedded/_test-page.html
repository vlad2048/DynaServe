<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Page</title>

  <script src="websockets-utils.js"></script>

  <link rel="stylesheet" type="text/css" href="css/s_0.css">
  <link rel="stylesheet" type="text/css" href="css/s_1.css">
  <link rel="stylesheet" type="text/css" href="css/s_2.css">
  <link rel="stylesheet" type="text/css" href="css/s_3.css?c=4">
  <link rel="stylesheet" type="text/css" href="css/s_4.css?c=5">
  <link rel="stylesheet" type="text/css" href="css/s_5.css?c=6">

  <script src="js/j_0.js"></script>
  <script src="js/j_1.js"></script>
  <script src="js/j_2.js"></script>
  <script src="js/j_3.js?c=4"></script>
  <script src="js/j_4.js?c=5"></script>
  <script src="js/j_5.js?c=6"></script>

  <script>
    // ************************
    // * GetReqScriptsSyncMsg *
    // ************************
    function testGetReqScriptsSyncMsg() {
      console.log(getReqScriptsSyncMsg());
    }

    // **************************
    // * HandleReplyScriptsSync *
    // **************************
    function testHandleReplyScriptsSync() {
      handleReplyScriptsSync({
        cssLinksDel: [ 'css/s_2.css', 'css/s_5.css' ],
        cssLinksAdd: [ 'css/s_10.css', 'css/s_11.css' ],
        jsLinksDel: [ 'js/j_2.js', 'js/j_5.js' ],
        jsLinksAdd: [ 'js/j_10.js', 'js/j_11.js' ],
      });

      const expLinksCss = [
        'css/s_0.css?c=1',
        'css/s_1.css?c=1',
        'css/s_3.css?c=5',
        'css/s_4.css?c=6',
        'css/s_10.css',
        'css/s_11.css',
      ];
      const expLinksJs = [
        'js/j_0.js?c=1',
        'js/j_1.js?c=1',
        'js/j_3.js?c=5',
        'js/j_4.js?c=6',
        'js/j_10.js',
        'js/j_11.js',
      ];
      console.log('Expected Css links', expLinksCss);
      console.log('Expected Js links', expLinksJs);
    }

    // ***********************
    // * HandleScriptRefresh *
    // ***********************
    function testHandleScriptRefresh() {
      handleScriptRefresh({ type: 'Css', link: 'css/s_1.css?c=1' });
      handleScriptRefresh({ type: 'Css', link: 'css/s_3.css?c=5' });
      handleScriptRefresh({ type: 'Js', link: 'js/j_1.js?c=1' });
      handleScriptRefresh({ type: 'Js', link: 'js/j_3.js?c=5' });
    }
  </script>
</head>

<body>
  <div>
    <button onclick="play()">Play</button>
    <button onclick="testGetReqScriptsSyncMsg()">GetReqScriptsSyncMsg</button>
    <button onclick="testHandleReplyScriptsSync()">HandleReplyScriptsSync</button>
    <button onclick="testHandleScriptRefresh()">HandleScriptRefresh</button>
  </div>
</body>

</html>